{
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "FakeMicro": "Information"
    }
  },
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=fakemicro;User Id=postgres;Password=123456",
    "CAPConnection": "Server=localhost;Database=fakemicro_cap;User Id=postgres;Password=123456",
    "HangfireConnection": "Server=localhost;Database=fakemicro_hangfire;User Id=postgres;Password=123456",
    "MongoDBConnection": "mongodb://localhost:27017"
  },
  "JwtSettings": {
    "SecretKey": "a-string-secret-at-least-256-bits-long",
    "Issuer": "FakeMicro",
    "Audience": "FakeMicro-Users",
    "ExpireMinutes": 60,
    "RefreshExpireDays": 7
  },
  "RabbitMQ": {
    "HostName": "localhost",
    "Port": "5672",
    "UserName": "guest",
    "Password": "guest",
    "VirtualHost": "/"
  },
  "SqlSugar": {
    "DbType": "PostgreSQL",
    "ConnectionString": "host=localhost;Database=fakemicro;Uid=postgres;Pwd=123456;",
    "EnableSqlLog": true,
    "SlowQueryThreshold": 1000,
    "EnableAop": true,
    "ConnectionPoolSize": 50,
    "ConnectionTimeout": 30,
    "EnableReadWriteSeparation": false,
    "SlaveConnectionStrings": [
      "Server=slave1;Database=fakemicro;Uid=postgres;Pwd=123456;",
      "Server=slave2;Database=fakemicro;Uid=postgres;Pwd=123456;"
    ]
  },
  "Database": {
    "Type": "PostgreSQL",
    "Database": "fakemicro",
    "port": 5432,
    "Username": "postgres",
    "Password": "123456",
    "Server": "127.0.0.1",
    "TrustServerCertificate": false,
    "ConnectionTimeout": 299
  },
  "CAP": {
    "FailedRetryCount": "3",
    "FailedRetryInterval": "30",
    "SucceedMessageExpiredAfter": "3600"
  },
  "FileStorage": {
    "BasePath": "uploads",
    "MaxFileSize": 10485760,
    "AllowedExtensions": [ ".jpg", ".jpeg", ".png", ".pdf", ".doc", ".docx" ]
  },
  "RateLimit": {
    "WindowSeconds": 60,
    "MaxRequests": 10000,
    "BurstLimit": 200
  },
  "Elasticsearch": {
    "Url": "http://localhost:9200",
    "IndexFormat": "fakemicro-api-logs-{0:yyyy.MM}",
    "NumberOfShards": 1,
    "NumberOfReplicas": 0
  },

  "Orleans": {
    "ClusterId": "FakeMicroCluster",
    "ServiceId": "FakeMicroService",
    "SiloPort": 11111,
    "GatewayPort": 30000,
    "UseLocalhostClustering": true
  },
  "AnomalyDetection": {
    "Enabled": false,
    "FailedAttemptsThreshold": 5,
    "ShortTimeWindowSeconds": 60,
    "LongFailedAttemptsThreshold": 20,
    "LongTimeWindowSeconds": 3600,
    "BlockDurationSeconds": 300,
    "MaxRequestsPerMinute": 100,
    "BlockSuspiciousIps": false,
    "LogAnomalies": false
  },
  /*
  - Enabled: true（启用异常行为检测）
- FailedAttemptsThreshold: 5（短时间内失败尝试次数阈值）
- ShortTimeWindowSeconds: 60（短时间窗口，秒）
- LongFailedAttemptsThreshold: 20（长时间内失败尝试次数阈值）
- LongTimeWindowSeconds: 3600（长时间窗口，秒）
- BlockDurationSeconds: 300（阻止时间，秒）
- MaxRequestsPerMinute: 100（每分钟最大请求数）
- BlockSuspiciousIps: true（是否阻止可疑IP）
- LogAnomalies: true（是否记录异常行为）

  */
  "ApiSecurity": {
    "EnableApiKeyAuth": false,
    "ApiKeyHeaderName": "X-API-Key",
    "EnableRequestSigning": false,
    "SignatureHeaderName": "X-Signature",
    "TimestampHeaderName": "X-Timestamp",
    "AllowedTimestampDriftSeconds": 300,
    "ApiKeyLength": 40,
    "KeyPrefixLength": 8
  },
  "MongoDB": {
    "ConnectionString": "mongodb://localhost:27017",
    "DatabaseName": "FakeMicroDB",
    "EnableLogging": true,
    "ConnectionTimeout": 30,
    "MaxConnectionPoolSize": 100,
    "MinConnectionPoolSize": 10
  },
  /*
  - EnableApiKeyAuth: true (启用API密钥认证)
- ApiKeyHeaderName: "X-API-Key" (API密钥认证的Header名称)
- EnableRequestSigning: true (启用请求签名验证)
- SignatureHeaderName: "X-Signature" (请求签名的Header名称)
- TimestampHeaderName: "X-Timestamp" (时间戳Header名称)
- AllowedTimestampDriftSeconds: 300 (允许的时间戳偏差，单位秒)
- ApiKeyLength: 40 (密钥生成长度)
- KeyPrefixLength: 8 (密钥前缀长度)

  */
  "AllowedHosts": "*",
  "CodeGenerator": {
    "Base": {
      "Author": "FakeMicro",
      "Company": "FakeMicro",
      "ProjectRoot": "f:/Orleans/OrlanFackeMicro/src",
      "NamespacePrefix": "FakeMicro",
      "DefaultNamespace": "FakeMicro.Entities",
      "OverwriteExisting": true,
      "AddFileHeader": true,
      "GenerateUnitTests": false,
      "GenerateApiDocumentation": true
    },
    "Templates": {
      "DefaultTemplates": [
        "Interface",
        "Grain",
        "Dto"
      ],
      "AvailableTemplates": [
        "Interface",
        "Grain",
        "Dto",
        "Controller"
      ],
      "TemplateSettings": {
        "Interface": {
          "Enabled": true,
          "FileNamePattern": "I{EntityName}Grain.cs",
          "OutputDirectory": "FakeMicro.Interfaces"
        },
        "Grain": {
          "Enabled": true,
          "FileNamePattern": "{EntityName}Grain.cs",
          "OutputDirectory": "FakeMicro.Grains"
        },
        "Dto": {
          "Enabled": true,
          "FileNamePattern": "{EntityName}Dto.cs",
          "OutputDirectory": "FakeMicro.Interfaces/Models"
        },
        "Controller": {
          "Enabled": false,
          "FileNamePattern": "{EntityName}Controller.cs",
          "OutputDirectory": "FakeMicro.Api"
        }
      }
    },
    "Output": {
      "InterfacesDirectory": "FakeMicro.Interfaces",
      "GrainsDirectory": "FakeMicro.Grains",
      "ApiDirectory": "FakeMicro.Api",
      "DtoDirectory": "FakeMicro.Interfaces/Models",
      "TestsDirectory": "FakeMicro.Tests",
      "DocumentationDirectory": "docs/generated"
    },
    "CodeStyle": {
      "Naming": {
        "UseHungarianNotation": false,
        "PrivateFieldPrefix": "_",
        "ReadOnlyFieldPrefix": "_",
        "ConstantStyle": "PascalCase",
        "InterfacePrefix": "I",
        "DtoSuffix": "Dto",
        "GrainSuffix": "Grain"
      },
      "Formatting": {
        "IndentStyle": "Spaces",
        "IndentSize": 4,
        "LineEnding": "CRLF",
        "MaxLineLength": 120,
        "SortUsingStatements": true,
        "RemoveUnusedUsings": true
      },
      "Comments": {
        "GenerateXmlDocumentation": true,
        "GenerateParameterComments": true,
        "GenerateReturnComments": true,
        "CommentLanguage": "zh-CN"
      }
    },
    "CustomTemplates": {}
  }
  /*

  1. Base - 基础配置
   
   - Author : 代码生成者名称
   - Company : 公司名称
   - ProjectRoot : 项目根目录路径
   - OverwriteExisting : 是否覆盖现有文件
2. Templates - 模板配置
   
   - DefaultTemplates : 默认生成的模板列表
   - AvailableTemplates : 可用的模板类型
   - TemplateSettings : 每个模板的具体设置
3. Output - 输出路径配置
   
   - InterfacesDirectory : 接口文件输出目录
   - GrainsDirectory : Grain实现文件输出目录
   - DtoDirectory : DTO文件输出目录
4. CodeStyle - 代码风格配置
   
   - Naming : 命名约定
   - Formatting : 格式化设置
   - Comments : 注释配置
建议您将这段配置添加到 FakeMicro.Api\appsettings.json 文件中，然后重启应用程序即可生效。如果不需要某些高级配置，也可以只使用最小配置。

  */
}